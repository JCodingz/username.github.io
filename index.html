<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Meme Name Guessing Game</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>

    <h1>üé≠ Guess the Meme!</h1>
    <p>Look at the meme and try to guess its correct name.</p>

    <button onclick="loadMeme()">Load New Meme</button>

    <div id="meme-container">
        <img id="meme-image" alt="Meme will appear here">
    </div>

    <p id="clue"></p>

    <div id="guess-section">
        <input type="text" id="guess-input" placeholder="Enter meme name">
        <button onclick="checkGuess()">Submit Guess</button>
    </div>

    <p id="result"></p>
    <p id="answer"></p>

    <script>
        let currentMemeName = "";

        async function loadMeme() {
            const response = await fetch("https://api.imgflip.com/get_memes");
            const data = await response.json();

            const memes = data.data.memes;
            const randomMeme = memes[Math.floor(Math.random() * memes.length)];

            document.getElementById("meme-image").src = randomMeme.url;
            currentMemeName = randomMeme.name;

            document.getElementById("guess-input").value = "";
            document.getElementById("result").textContent = "";
            document.getElementById("answer").textContent = "";

            showClue();
        }

        function showClue() {
            const words = currentMemeName.split(" ");
            let clueText = "Clue: ";

            words.forEach(word => {
                clueText += word.charAt(0);
                clueText += "_".repeat(word.length - 1) + " ";
            });

            clueText += `(${words.length} word${words.length > 1 ? "s" : ""})`;

            document.getElementById("clue").textContent = clueText;
        }

        function checkGuess() {
            const userGuess = document
                .getElementById("guess-input")
                .value
                .toLowerCase();

            if (!userGuess) {
                document.getElementById("result").textContent =
                    "‚ùó Please enter a guess.";
                return;
            }

            if (userGuess === currentMemeName.toLowerCase()) {
                document.getElementById("result").textContent =
                    "‚úÖ Correct! You guessed the meme!";
            } else {
                document.getElementById("result").textContent =
                    "‚ùå Incorrect guess.";
            }

            document.getElementById("answer").textContent =
                "Correct meme name: " + currentMemeName;
        }
    </script>

</body>
</html>
